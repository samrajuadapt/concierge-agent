<div id="main-container" class="qm-pannel-container" dir="{{ userDirection$ | async}}">
    <div class="qm-pannel-inner-container">
        <div>
            <h1 class="qm-flow-header" tabindex="-1" id="panel-title">
                {{ ('label.service.group.select') | translate}}</h1>
        </div>
        <div class="qm-profile " dir="{{userDirection$ | async}}">
            <div class="qm-profile-content">
                <div class="qm-check-box-content">
                    <div class="qm-right" *ngFor="let mainCat of mainCategory; let mi = index">
                        <div class="qm-use-as-default">
                            <label for="qm-checkbox" class="qm-checkbox-label">
                                <div class="qm-checkbox__selector">
                                    <input
                                    class="styled-checkbox qm-tab" 
                                    type="checkbox" 
                                    [name]="mainCat" 
                                    [value]="mainCat" 
                                    [(checked)]="mainItem[mi] == mainCate" 
                                    [(ngModel)]="mainItem[mi]">
                                    <label class="qm-checkbox__selector-icon-text"
                                    (click)="onMainCategoryClick(mainCat,mi)">{{mainCat}}</label>
                                </div>
                            </label>
                        </div>
                        <div class="qm-box" *ngFor="let item of sortedServiceGroup[mainCat]; let si = index">
                            <div class="qm-box" *ngFor="let itemSub of item; let sj = index">
                                <div class="qm-use-as-default">
                                    <label for="qm-checkbox" class="qm-checkbox-label">
                                        <div class="qm-checkbox__selector">
                                            <input id="qm-sub-category" 
                                            class="styled-checkbox qm-tab" 
                                            type="checkbox"  
                                            [(checked)]="itemSub.selected" 
                                            [disabled]="itemSub.disabled">
                                            <label class="qm-checkbox__selector-icon-text" 
                                            (click)="onSubCategoryClick(mainCat,si,sj)"> {{ itemSub.name }}</label>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="qm-save-button qm-button qm-primary-button-default btn-wrap" (click)="onSaveAndAddClick()">
                    <span> {{'button_save_and_add'|translate}} </span>
                </button>
            </div>
        </div>
        
    </div>
</div>